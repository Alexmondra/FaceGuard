<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registrar Buscados</title>
    <link rel="stylesheet" href="../../css/sections/registrar-buscados.css">
</head>
<body>
    <div class="buscados-container">
        <h2>Registrados</h2>
        <div class="buscados-toolbar">
            <input type="text" id="searchInput" placeholder="Buscar por DNI, nombre o apellido..." />
            <button id="addPersonBtn" class="btn-primary">Agregar persona</button>
        </div>

        <div class="buscados-table-wrapper">
            <table class="buscados-table">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>DNI</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Descripción física</th>
                    <th>Foto</th>
                    <th>Opciones</th>
                </tr>
                </thead>
                <tbody id="buscadosTableBody">
                    <!-- Las filas se llenan dinámicamente por JS -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- FORMULARIO AVANZADO REGISTRAR PERSONA (SOLO EN MODAL) -->
    <div id="personFormModal" class="modal-overlay" style="display: none;">
      <div class="modal modal-large">
        <button class="close-modal" id="closePersonFormModal" title="Cerrar formulario">&times;</button>
        <h2>Registrar Persona Buscada</h2>
        <div class="message success-message" id="successMessage">
            <i class="fas fa-check-circle"></i>
            <div>Registro completado con éxito. La información ha sido guardada.</div>
        </div>
        <div class="message error-message" id="errorMessage">
            <i class="fas fa-exclamation-circle"></i>
            <div>Ha ocurrido un error al procesar la solicitud. Por favor, intente nuevamente.</div>
        </div>
        <form id="personForm">
            <div class="form-container">
                <div class="form-section">
                    <div class="form-title">Información Personal</div>
                    
                    <div class="form-row">
                        <label for="fullName">Nombre*</label>
                        <input type="text" id="fullName" name="fullName" required>
                        <div class="field-error" id="fullNameError"></div>
                    </div>
                    <div class="form-row">
                        <label for="fullName">apellidos Completo *</label>
                        <input type="text" id="fullName" name="fullName" required>
                        <div class="field-error" id="fullNameError"></div>
                    </div>
                    
                    <div class="form-row">
                        <label for="idNumber">Número de Identificación*</label>
                        <input type="text" id="idNumber" name="idNumber" required>
                        <div class="field-error" id="idNumberError"></div>
                    </div>
                    
                    <div class="form-row">
                        <label for="birthdate">Fecha de Nacimiento</label>
                        <input type="date" id="birthdate" name="birthdate">
                    </div>
                    
                    <div class="form-row">
                        <label for="gender">Género</label>
                        <select id="gender" name="gender">
                            <option value="">Seleccionar</option>
                            <option value="male">Masculino</option>
                            <option value="female">Femenino</option>
                            <option value="other">Otro</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-section">
                    <div class="form-title">Fotografías y Descripción</div>
                    
                    <div class="form-row">
                        <label>Fotografías*</label>
                        <div class="photo-upload" id="photoUpload">
                            <i class="fas fa-camera upload-icon"></i>
                            <p>Haga clic o arrastre fotos aquí</p>
                            <p><small>Se requiere al menos una foto clara del rostro</small></p>
                            <input type="file" id="photoInput" class="upload-input" accept="image/*" multiple>
                        </div>
                        <div class="field-error" id="photoError"></div>
                        <div class="photo-preview-container" id="photoPreviewContainer">
                            <!-- Photo previews will be added here dynamically -->
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <label for="physicDescription">Descripción Física</label>
                        <textarea id="physicDescription" name="physicDescription" placeholder="Altura, peso, características distintivas, etc."></textarea>
                    </div>
                    
                    
                </div>
                
            </div>
            <div class="form-actions">
                <button type="button" class="reset-btn" id="resetBtn">Limpiar Formulario</button>
                <button type="submit" class="submit-btn" id="submitBtn">
                    <i class="fas fa-save"></i> Guardar Registro
                </button>
            </div>
        </form>
        <div class="loading-overlay" id="loadingOverlay">
            <div class="loading-message">
                <div class="loading-spinner"></div>
                <p>Procesando información...</p>
            </div>
        </div>
      </div>
    </div>

    <script src="../../js/sections/registrar-buscados.js"></script>
    
</body>
</html>

